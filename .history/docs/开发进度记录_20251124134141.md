# 开发进度记录

## 项目信息
- **项目名称**: Tauri HTTP Wrapper (Custom Auth)
- **目标**: 使用 Tauri 2.0 封装 `http://test-otc.68chat.co/`，并拦截所有 API 请求添加自定义验证头，防止直接浏览器访问。
- **启动时间**: 2025-11-24

## 开发日志

### 2025-11-24: 项目初始化与方案设计
- [x] 创建项目目录结构
- [x] 初始化 Tauri 2.0 配置 (`tauri.conf.json`)
- [x] 实现 JS 注入脚本 (拦截 Fetch/XHR)
- [x] 实现 Rust 后端代理逻辑 (Reqwest + 加密/Header)
- [x] 配置权限 (Capabilities)
- [x] 修复 build.rs 编译错误
- [x] 创建占位图标文件
- [ ] 验证 Tauri 项目编译与运行 (用户侧执行)

## 架构说明
1. **拦截层 (`src/inject.js`)**:
   - 重写 `window.fetch` 和 `XMLHttpRequest`。
   - 将请求转发给 Tauri Command `proxy_request`。
2. **代理层 (`src-tauri/src/proxy.rs`)**:
   - 接收前端请求。
   - 添加 `X-Client-Verify` 头。
   - 维护 Cookie Jar (确保登录态)。
   - 转发请求至 Java 后端。
3. **配置层**:
   - `tauri.conf.json`: 开启 `withGlobalTauri`，指向远程 URL。
   - `capabilities/default.json`: 允许 IPC 通信。


